package Game;

import java.util.Scanner;

//When the program starts, the user is welcomed and presented with a list of available commands.

public class Game {

	Scanner input = new Scanner(System.in);
	Bigboss Crazy = new Bigboss(50, 20);
	Enemyeasy badguy = new Enemyeasy(40, 10);
	Enemyeasy badguy2 = new Enemyeasy(40, 10);
	PlayerOne playerOne = new PlayerOne(100, 30);
	int counter2 = 0;
	int counter = 0;
	boolean dead = false;

	// create game method
	public void playGame() {

		while (dead == false || counter2 < 3) {
			move();
		}

	}

	public void move() {
		while (dead == false || counter2 < 3) {
			System.out.println("Move forward (f), left(l), right(r)");
			char idontcare = input.nextLine().charAt(0);
			counter++;
			while (counter == 3 && counter2 < 2 && badguy.health > 0 && Crazy.health > 0) {
				fight(badguy.damage);
			}
			while (counter == 6 && counter2 < 3 && badguy2.health > 0) {
				fight(badguy2.damage);
			}
			while (counter == 10 && Crazy.health > 0) {
				fight(Crazy.damage);
			}

			if (counter2 >= 3) {
				Win();
			}
		}
	}

	public void fight(int damage) {

		// Player takes hit
		System.out.println("You have been hit by an enemy.");
		playerOne.takehit(damage);
		if (playerOne.health <= 0) {
			dead = true;
			Lose();
		}
		System.out.println("You can run or attack. Press a to attack. If you run, you will die eventually");
		char idontcare = input.nextLine().charAt(0);
		while (idontcare != 'a') {
			playerOne.takehit(damage);
			if (playerOne.health <= 0) {
				dead = true;
				Lose();
			}
			System.out.println("You can run or attack. Press a to attack. If you run, you will die eventually");
			idontcare = input.nextLine().charAt(0);

			if (playerOne.health <= 0) {
				dead = true;
				Lose();

			}
		}
		if (playerOne.health <= 0) {
			Lose();

		}
		if (counter == 3) {
			badguy.takehit(playerOne.attack());

			while (badguy.health >= 0) {
				fight(damage);
			}
			badguy.dead();
			counter2++;
		}
		if (counter == 6) {
			badguy2.takehit(playerOne.attack());

			while (badguy2.health >= 0) {
				fight(damage);
			}
			badguy2.dead();
			counter2++;
		}
		if (counter >= 10) {
			Crazy.takehit(playerOne.attack());

			while (Crazy.health >= 0) {
				fight(damage);
			}
			Crazy.dead();
			Win();
		}

	}

	public void Lose() {
		System.out.println("You have died");
		System.exit(0);
	}

	public void Win() {
		System.out.println("You have completed the game and received treasure.");
		System.exit(0);
	}

}
