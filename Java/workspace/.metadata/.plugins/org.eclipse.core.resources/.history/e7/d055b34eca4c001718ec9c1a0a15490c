package Game;

import java.util.Scanner;

//When the program starts, the user is welcomed and presented with a list of available commands.

public class Game {

	PlayerOne playerOne = new PlayerOne(100, 30);

	// create game method
	public void playGame() {
		Scanner input = new Scanner(System.in);
		boolean dead = false;
		int counter2 = 0;
		int counter = 0;
		while (dead == false || counter2 < 3) {
			System.out.println("Move forward (f), left(l), right(r)");
			char idontcare = input.nextLine().charAt(0);
			counter++;
			Enemyeasy badguy = new Enemyeasy(40, 10);

			if (counter == 3 && counter2 < 2) {
				
				while(badguy.health>0){
				// Player takes hit
				System.out.println("You have been hit by an enemy.");
				playerOne.takehit(badguy.attack());
				if (playerOne.health <= 0) {
					dead = true;
					break;}
				System.out.println("You can run or attack. Press a to attack. If you run, you will die eventually");
				idontcare = input.nextLine().charAt(0);
				while (idontcare != 'a') {
					playerOne.takehit(badguy.attack());
					if (playerOne.health <= 0) {
						dead = true;
						break;}
					System.out.println("You can run or attack. Press a to attack. If you run, you will die eventually");
					idontcare = input.nextLine().charAt(0);

					if (playerOne.health <= 0) {
						dead = true;
						break;

					}
				}
				if (playerOne.health <= 0) {
					dead = true;
					break;
				}

				badguy.takehit(playerOne.attack());
				
				if (badguy.health <= 0) {
					badguy.dead();
					counter2++;
					break;

				}
				counter = 0;
			}

			else if (counter > 3) {
				Bigboss Crazy = new Bigboss(50, 20);
				// Player takes hit
				System.out.println("You have been hit by an enemy.");
				playerOne.takehit(Crazy.attack());
				System.out.println("You can run or attack. Press a to attack. If you run, you will die eventually");
				if (playerOne.health <= 0) {
					dead = true;
					break;}
				idontcare = input.nextLine().charAt(0);
				while (idontcare != 'a') {
					playerOne.takehit(Crazy.attack());
					if (playerOne.health <= 0) {
						dead = true;
						break;}
					System.out.println("Would you like to attack. Press a");
					idontcare = input.nextLine().charAt(0);

					if (playerOne.health <= 0) {
						dead = true;
						break;

					}
				}
				if (playerOne.health <= 0) {
					dead = true;
					break;
				}
				Crazy.takehit(playerOne.attack());
				if (Crazy.health <= 0) {
					Crazy.dead();
					counter2++;
					counter = 0;
				}

				break;
			}

			else if (playerOne.health <= 0) {
				dead = true;

			}

		}

		if (dead) {
			System.out.println("You have died");

		} else {
			System.out.println("You have completed the game and received treasure.");

		}

	}
}
